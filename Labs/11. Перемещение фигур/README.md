# Лабораторная работа 11: Перемещение фигур

## Задание

Добавить к программе из ЛР10 возможность перетаскивать фигуры мышью.

Добавить возможность удалять фигуры с помощью контекстного меню.

## Порядок выполнения работы

1) В базовый класс фигуры добавьте метод `move`, и переопределите его в классах-наследниках, так чтобы он перемещал объекты (менял их координаты);
2) В обработке события перемещения курсора добавьте код, который будет проверять нажата ли левая кнопка мыши, и если нажата то перемещать фигуру на новое место с помощью `move`;
3) Добавьте обработку нажатия на правую кнопку мыши и выводите в этом месте контекстное меню с пунктом "Удалить". При нажатии на этот пункт фигура должна удалиться.

   Контекстное меню в Qt реализуется с помощью класса `QMenu`. Объект `QMenu` состоит из списка объектов типа `QAction` (см. [пример](https://doc.qt.io/qt-6/qtwidgets-mainwindows-menus-example.html)).

   Пример работы с меню:
   ```cpp
   // В объявлении класса MyWidget добавим слот,
   // который будет вызываться для удаления фигуры;
   // и указатель на QAction, который вставим в меню
   class MyWidget .... {
       ....
   
   private slots:
       void removeFig();

   private:
       QAction* removeAct;
   }

   // В конструкторе виджета создадим QAction, который будет пунктом меню "Удалить"
   // и одключим его к слоту удаления фигуры
   MyWidget::MyWidget(....)
   {
       ....
   
       removeAct = new QAction("Удалить", this);

       connect(removeAct, &QAction::triggered, this, &MyWidget::removeFig);
   }

   void MyWidget::removeFig()
   {
       // Собственно, код, удаляющий фигуру из вектора фигур
   
       // Так как фигура была удалена надо перерисовать окно
       update();
   }

   void MyWidget::mousePressEvent(QMouseEvent* event)
   {
       // Тут определяем, нажата ли правая кнопка мыши над фигурой, и если да, то показываем меню

       // Создаем само меню
       QMenu menu(this);
   
       // Наполняем его событиями (QAction)
       menu.addAction(removeAct);

       // Вызываем его в текущей позиции курсора (в глобальной системе координат связанной с окном, а не с виджетом)
       menu.exec(event->globalPos());
   }
   ```
   
